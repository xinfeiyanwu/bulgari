{"remainingRequest":"C:\\Users\\82019\\bulgari\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\82019\\bulgari\\src\\components\\content\\story\\Story.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\82019\\bulgari\\src\\components\\content\\story\\Story.vue","mtime":1588252844225},{"path":"C:\\Users\\82019\\bulgari\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\82019\\bulgari\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\82019\\bulgari\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\82019\\bulgari\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJ0AvbW9jay9zdG9yeS9zdG9yeS5qcycNCmltcG9ydCAnQC9tb2NrL3N0b3J5L2FjdGl2aXR5LmpzJw0KaW1wb3J0ICdAL21vY2svc3RvcnkvbGlmZVR5cGUuanMnDQppbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAndGltZXJzJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnU3RvcnknLA0KICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGRhdGFMaXN0OiBbXSwNCiAgICAgICAgICAgIEFjdGl2ZTogZmFsc2UsDQogICAgICAgICAgICBzdG9yeU5hdjogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0b3J5JywNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+aVheS6iycsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhY3Rpdml0eScsDQogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfmnIDmlrDmtLvliqgnLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGlmZVR5cGUnLA0KICAgICAgICAgICAgICAgICAgICBuYW1lOiAn55Sf5rS75pa55byPJywNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBpc0FjdGl2ZSh0eXBlKXsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMudHlwZT09dHlwZT90cnVlOmZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICBnZXREYXRhTGlzdCh0eXBlKXsNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57DQogICAgICAgICAgICAgICAgdGhpcy4kcmVxdWVzdCh7DQogICAgICAgICAgICAgICAgICAgIHVybDogJy9zdG9yeScsDQogICAgICAgICAgICAgICAgICAgIHBhcmFtczoge3R5cGV9DQogICAgICAgICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSByZXM7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSwgMjAwMCkNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpew0KICAgICAgICB0aGlzLmdldERhdGFMaXN0KCdzdG9yeScpOw0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuJHJvdXRlKQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["Story.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Story.vue","sourceRoot":"src/components/content/story","sourcesContent":["<template>\r\n    <div class=\"Story\">\r\n\r\n        <div class=\"storyNav\">\r\n            <router-link v-for=\"(item, i) in storyNav\"\r\n                :to=\"'/story/'+item.type\" \r\n                :key=\"i\"\r\n                :class=\"{Active: isActive(item.type)}\"\r\n                @click.native=\"getDataList(item.type)\"\r\n            >\r\n                {{item.name}}\r\n            </router-link>\r\n        </div>\r\n\r\n        <div \r\n            class=\"storyCover\" \r\n            v-if=\"this.$route.params.type=='story'\">\r\n            <video \r\n            src=\"../../../assets/homePage/story/lib-cinemagia-videocut.mp4\"\r\n            muted\r\n            autoplay\r\n            loop>\r\n            </video>\r\n            <div class=\"storyWorld\">\r\n                <h2>全新光影奇遇高级珠宝系列</h2>\r\n                <a class=\"knowMore\">了解更多</a>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 每个col的内容撑起的高度都不一样，导致el-col高度不同，导致瀑布流 -->\r\n        <!-- 解决的方法是限定col的最小高度,使用flex让img和vedio等比例缩放 -->\r\n        <div \r\n            class=\"storyDetail\"\r\n            v-loading=\"loading\"\r\n            element-loading-text=\"拼命加载中\"\r\n            element-loading-spinner=\"el-icon-loading\"\r\n            element-loading-background=\"#fff\">\r\n            <el-row>\r\n                <template v-for=\"(item, index) in dataList\">\r\n                    <el-col  \r\n                        :span=\"item.span\"\r\n                        :key=\"index\">\r\n                        <!-- 利用item.load判断router-link的标签 -->\r\n                        <router-link \r\n                            :to=\"item.JumpRoute\" \r\n                            :tag=\"item.load?'div':'a'\" \r\n                            class=\"link\">\r\n                            <img \r\n                                :src=\"require('../../../assets/homePage/story/'+item.ImgUrl+'.jpg')\" \r\n                                :alt=\"item.url\" \r\n                                v-if=\"item.type=='img'\">\r\n                            <video \r\n                                :src=\"require('../../../assets/homePage/story/'+item.ImgUrl+'.mp4')\"\r\n                                v-else-if=\"item.type=='video'\"\r\n                                autoplay\r\n                                muted\r\n                                loop>\r\n                            </video>\r\n                            <p>{{item.p}}</p>\r\n                            <div v-if=\"item.load\">\r\n                                <a href=\"https://www.bulgari.cn/download/pdf/Life-In-Bvlgari-18-ITA_UK_qzu4wn.pdf\" class=\"load\">\r\n                                下载 <div class=\"el-icon-download\"></div>\r\n                                </a>\r\n                            </div>\r\n                            <div v-else>\r\n                                <h3>{{item.h3}}</h3>\r\n                                <h4>{{item.h4}}</h4>\r\n                            </div>\r\n                        </router-link>\r\n                    </el-col>\r\n                </template>\r\n            </el-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/mock/story/story.js'\r\nimport '@/mock/story/activity.js'\r\nimport '@/mock/story/lifeType.js'\r\nimport { setTimeout } from 'timers';\r\nexport default {\r\n    name: 'Story',\r\n    data(){\r\n        return {\r\n            dataList: [],\r\n            Active: false,\r\n            storyNav: [\r\n                {\r\n                    type: 'story',\r\n                    name: '故事',\r\n                },\r\n                {\r\n                    type: 'activity',\r\n                    name: '最新活动',\r\n                },\r\n                {\r\n                    type: 'lifeType',\r\n                    name: '生活方式',\r\n                }\r\n            ],\r\n            loading: true,\r\n        }\r\n    },\r\n    methods: {\r\n        isActive(type){\r\n            return this.$route.params.type==type?true:false;\r\n        },\r\n        getDataList(type){\r\n            this.loading = true;\r\n            setTimeout(()=>{\r\n                this.$request({\r\n                    url: '/story',\r\n                    params: {type}\r\n                }).then((res) => {\r\n                    this.dataList = res;\r\n                    this.loading = false;\r\n                });\r\n            }, 2000)\r\n        }\r\n    },\r\n    created(){\r\n        this.getDataList('story');\r\n    },\r\n    mounted(){\r\n        //console.log(this.$route)\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.h3_h4{\r\n    overflow: hidden;\r\n    white-space: nowrap; \r\n    text-overflow: ellipsis; \r\n    font-weight: 200;\r\n}\r\n.Story{\r\n    margin-top: 180px;\r\n\r\n    .storyNav{\r\n        padding: 20px 0;\r\n        text-align: center;\r\n        a{\r\n            padding-left: 30px;\r\n        }\r\n        a:first-child{\r\n            padding: 0;\r\n        }\r\n    }\r\n\r\n    .Active{\r\n        color: rgb(203, 161, 119);\r\n    }\r\n\r\n    .storyCover{\r\n        position: relative;\r\n        text-align: center;\r\n        .storyWorld{\r\n            position: absolute;\r\n            left: calc(50% - 255px);\r\n            top: 21%;\r\n            h2{\r\n                color: #fff;\r\n                font-size: 46px;\r\n                font-weight: 200;\r\n            }\r\n            .knowMore{\r\n                display: inline-block;\r\n                margin-top: 40px;\r\n                padding: 10px 61px;\r\n                border: none;\r\n                background: #fff;\r\n                cursor: pointer;\r\n            }\r\n            .knowMore:hover{\r\n                border: none;\r\n                background: #000;\r\n                padding: 10px 61px;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n\r\n    .storyDetail{\r\n        margin: 20px 20px 0 40px;\r\n        min-height: 100px;\r\n        .el-col{\r\n            padding-right: 20px;\r\n            min-height: 500px;\r\n            .link{\r\n                display: flex;\r\n                flex-direction: column;\r\n\r\n                p{\r\n                    padding: 6px 0;\r\n                    color: #ccc;\r\n                    font-size: 12px;\r\n                }\r\n\r\n                h3{\r\n                    .h3_h4();\r\n                    font-size: 30px;\r\n                }\r\n\r\n                h4{\r\n                    .h3_h4();\r\n                    font-size: 25px;\r\n                }\r\n\r\n                .load{\r\n                    display: block;\r\n                    height: 40px;\r\n                    line-height: 40px;\r\n                    border: 1px solid #000;\r\n                    text-align: center;\r\n                }\r\n                .load:hover{\r\n                    background: #000;\r\n                    color: #fff;\r\n                    .el-icon-download{\r\n                        color: #fff;\r\n                    }\r\n                }\r\n            } \r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n"]}]}